import express from "express"
import configViewEngine from "./config/viewEngine.js"
import path from "path"
import { fileURLToPath } from 'url';
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
import Router from "./routes/webroute.js";
import fs from 'fs'
// import * as renderPDF from "./service/renderPDF.js"
const app  = express()

//config view engine 
configViewEngine(app,__dirname)


// Đường dẫn đến tệp PDF
// console.log(__dirname)
const pdfFilePath = path.join(__dirname,"../example1.pdf");
// console.log(pdfFilePath)
// app.get('/pdf', (req, res) => {
//     // Đọc nội dung của tệp PDF
//     fs.readFile(pdfFilePath, (err, data) => {
//         if (err) {
//             console.log(err)
//             res.status(500).send('Error reading PDF file');
//             return;
//         }

//         // Thiết lập header
//         res.setHeader('Content-Type', 'application/pdf');
//         res.setHeader('Content-Disposition', 'inline');
//         res.setHeader('Content-Length', data.length);

//         // Gửi nội dung của tệp PDF đến trình duyệt
//         res.send(data);
//     });
// });
app.use("/",Router)
app.use((req,res)=>{
    return res.render('404')
})
//bind 
app.listen(3000,()=>{
    console.log(`Server is running on http://localhost:3000`)
})